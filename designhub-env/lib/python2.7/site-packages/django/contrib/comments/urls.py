from django.conf.urls import patterns, url
try:
    from satchmo_store.shop.satchmo_settings import get_satchmo_setting
    ssl = get_satchmo_setting('SSL', default_value=False)
except:
    ssl = True
urlpatterns = patterns('django.contrib.comments.views',
    url(r'^post/$',          'comments.post_comment',  {'SSL': ssl},      name='comments-post-comment'),
    url(r'^posted/$',        'comments.comment_done',  {'SSL': ssl},      name='comments-comment-done'),
    url(r'^flag/(\d+)/$',    'moderation.flag',    {'SSL': ssl},          name='comments-flag'),
    url(r'^flagged/$',       'moderation.flag_done',    {'SSL': ssl},     name='comments-flag-done'),
    url(r'^delete/(\d+)/$',  'moderation.delete',     {'SSL': ssl},       name='comments-delete'),
    url(r'^deleted/$',       'moderation.delete_done',  {'SSL': ssl},     name='comments-delete-done'),
    url(r'^approve/(\d+)/$', 'moderation.approve',   {'SSL': ssl},        name='comments-approve'),
    url(r'^approved/$',      'moderation.approve_done',  {'SSL': ssl},    name='comments-approve-done'),
)

urlpatterns += patterns('',
    url(r'^cr/(\d+)/(.+)/$', 'django.contrib.contenttypes.views.shortcut', {'SSL': ssl}, name='comments-url-redirect'),
)
