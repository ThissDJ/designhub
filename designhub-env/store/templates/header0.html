{% load satchmo_category i18n normalize_decimal satchmo_discounts satchmo_currency%}
{% spaceless %}
<div class='container header'>
	<div style='float:left;' class='list-item-container nav1'>
		<div class='list-item-wrapper' style="float:left;padding-top:3px;padding-bottom:0px;"><iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.designhub.hk&layout=button_count&amp;show_faces=true&amp; width=450&amp;action=like&amp;colorscheme=light&amp;height=0&amp;" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:80px; height:20px;margin-bottom:0px;padding-bottom:0px;" allowtransparency="true"></iframe></div>
		<div class='list-item-wrapper'><a  href='javascript:void(0);' class="no-underline social list-item" style='background-position: 0 -288px;'>&nbsp;</a></div>
		<div class='list-item-wrapper'><a href='javascript:void(0);' class="no-underline social list-item" style='background-position: 0 -896px;'>&nbsp;</a></div>
	</div>
	<div class='list-item-container nav1' style='float:right;'>
		<div class='list-item-wrapper'><a class='list-item'  href='javascript:void(0);'>Login</a></div><span style='color:#bbb'>or</span><div class='list-item-wrapper'><a  class='list-item' href='javascript:void(0);'>Sign Up</a></div>
		<span class="seperator">/</span><div class='list-item-wrapper'><a href='javascript:void(0);'>About Us</a></div>
		<span class="seperator">/</span><div class='list-item-wrapper'><a href='javascript:void(0);'>Worldwide Delivery</a></div>
		<span class="seperator">/</span>
		{% url satchmo_cart as carturl %}
	    {% if carturl %}<div class='list-item-wrapper'><a href="{{ carturl }}">{% trans "Cart" %}</a></div>{% endif %}
	    {% if not cart.is_empty %}
	        <div class='list-item-wrapper'>
            &nbsp;({{ cart_count|normalize_decimal }} - {% if sale %}{{ cart|discount_cart_total:sale|currency }}{% else %}{{cart.total|currency}}{% endif%})&nbsp;</div>
            {% url satchmo_checkout-step1 as checkouturl %}
            {% if checkouturl %}<div class='list-item-wrapper'><a href="{{ checkouturl }}">&nbsp;{% trans "Check out" %}</a>&nbsp;</div>{% endif %}
            
	    {% endif %}
	</div>
	<div class='clearfix'></div>
	<div style='text-align:center;margin-top:20px;'>
		<a href="/"><img src='{{MEDIA_URL}}img/weblogo.png'></a>
	</div>
    <div id="navbar-header0" class="navbar navbar-static">
      <div class="navbar-inner">
        <div class="container" style="width: auto;">

        </div>
      </div>
    </div> <!-- /navbar-example -->
</div>
<div class="hide" id="category-list-info">
    {% if category.id %}
        {% category_tree category.id %}
    {% else %}
        {% if product.get_category %}
            {% category_tree product.get_category.id %}
        {% else %}
            {% category_tree %}
        {% endif %}
    {% endif %}
</div>
<style type="text/css">
	ul.nav li.dropdown:hover ul.dropdown-menu.dropdown-menu-firstlevel{
	    display: block;    
	}

	a.menu:after, .dropdown-toggle:after {
	  content: none;
	}
	
	.navbar .dropdown-menu.dropdown-menu-firstlevel {
	 margin-top: 0px;
	}
</style>
<script type="text/javascript">
function getElementsByClass( searchClass, domNode, tagName) { 
	if (domNode == null) domNode = document;
	if (tagName == null) tagName = '*';
	var el = new Array();
	var tags = domNode.getElementsByTagName(tagName);
	var tcl = " "+searchClass+" ";
	for(i=0,j=0; i<tags.length; i++) { 
		var test = " " + tags[i].className + " ";
		if (test.indexOf(tcl) != -1) 
			el[j++] = tags[i];
	} 
	return el;
} 
var categoryListInfoNode = document.getElementById('category-list-info').childNodes[0];
var navbarHeader0ContainerNode = document.getElementById('navbar-header0').childNodes[0].childNodes[0];
var categoryNum = 3;
var newCategoryNode = navbarHeader0ContainerNode.appendChild(categoryListInfoNode);
newCategoryNode.className = 'nav';
newCategoryNode.setAttribute('role','navigation');
for(var i = 0; i < newCategoryNode.childNodes.length; i++){
	if(newCategoryNode.childNodes[i].childNodes.length > 1){
	    newCategoryNode.childNodes[i].className = 'dropdown';
	    newCategoryNode.childNodes[i].childNodes[0].setAttribute('role','button');
        // newCategoryNode.childNodes[i].childNodes[0].setAttribute('class','dropdown-toggle');
        // newCategoryNode.childNodes[i].childNodes[0].setAttribute('data-toggle','dropdown');
        // newCategoryNode.childNodes[i].childNodes[0].setAttribute('href','#');
        newCategoryNode.childNodes[i].childNodes[0].innerHTML += '<b class="caret"></b>';
        
        newCategoryNode.childNodes[i].childNodes[1].setAttribute('role','menu');
        newCategoryNode.childNodes[i].childNodes[1].setAttribute('class','dropdown-menu dropdown-menu-firstlevel');
        for(var j = 0; j < newCategoryNode.childNodes[i].childNodes[1].childNodes.length; j++){
        	if(newCategoryNode.childNodes[i].childNodes[1].childNodes[j].childNodes.length > 1){
        		newCategoryNode.childNodes[i].childNodes[1].childNodes[j].setAttribute('class','dropdown-submenu');
        		newCategoryNode.childNodes[i].childNodes[1].childNodes[j].childNodes[1].setAttribute('class','dropdown-menu');
        	}
        }
	}
}
navbarHeader0ContainerNode.innerHTML += [
          '<ul class="nav pull-right">',
           ' <li id="fat-menu" class="dropdown">',
             ' <a href="javascript:void(0);" id="drop3" role="button">Talents</a>',
             ' </li>',
            ' <li id="fat-menu" class="dropdown">',
             ' <a href="javascript:void(0);" id="drop3" role="button">Sale</a>',
             ' </li>',
            ' <li id="fat-menu" class="dropdown">',
             ' <a href="javascript:void(0);" id="drop3" role="button">Ideas</a>',
           ' </li>',
         ' </ul>'].join('');

// var categoryListLeftPart = getElementsByClass('category-item-first-level');
for(var i = 0; i < categoryNum; i++){
	
	// categoryListLeftPart[i].childNodes[0].innerHTML = categoryListInfoNode.childNodes[i].childNodes[0].innerHTML;
	// categoryListLeftPart[i].childNodes[0].href = categoryListInfoNode.childNodes[i].childNodes[0].href;
	// if(categoryListInfoNode.childNodes[i].childNodes.length > 1){
		// var subCategoryListItemTmplList = ["<div class='list-item-wrapper'><a class='list-item white-font'  href='","'>",'</a></div>'];
		// var subCategoryListHtmlList = [];
		// var subCategoryListInfoNode = categoryListInfoNode.childNodes[i].childNodes[1];
		// for(var j = 0;j < subCategoryListInfoNode.childNodes.length; j++){
			// var subCategoryListItemHtml = subCategoryListItemTmplList[0] + categoryListInfoNode.childNodes[i].childNodes[1].childNodes[j].childNodes[0].href 
			                                // + subCategoryListItemTmplList[1] + categoryListInfoNode.childNodes[i].childNodes[1].childNodes[j].childNodes[0].innerHTML 
			                                // +  subCategoryListItemTmplList[2];
			// subCategoryListHtmlList.push(subCategoryListItemHtml);
		// }
		// fashionHoverShowContainer.innerHTML = subCategoryListHtmlList.join("<div class='list-item-wrapper white-font'>|</div>");
	// }
}
</script>
{% endspaceless %}