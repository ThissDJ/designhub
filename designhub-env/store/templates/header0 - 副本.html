{% load satchmo_category i18n normalize_decimal satchmo_discounts satchmo_currency%}
{% spaceless %}
<div class='container header'>
	<div style='float:left;' class='list-item-container nav1'>
		<div class='list-item-wrapper' style="float:left;padding-top:3px;padding-bottom:0px;"><iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.designhub.hk&layout=button_count&amp;show_faces=true&amp; width=450&amp;action=like&amp;colorscheme=light&amp;height=0&amp;" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:80px; height:20px;margin-bottom:0px;padding-bottom:0px;" allowtransparency="true"></iframe></div>
		<div class='list-item-wrapper'><a  href='javascript:void(0);' class="no-underline social list-item" style='background-position: 0 -288px;'>&nbsp;</a></div>
		<div class='list-item-wrapper'><a href='javascript:void(0);' class="no-underline social list-item" style='background-position: 0 -896px;'>&nbsp;</a></div>
	</div>
	<div class='list-item-container nav1' style='float:right;'>
		<div class='list-item-wrapper'><a class='list-item'  href='javascript:void(0);'>Login</a></div><span style='color:#bbb'>or</span><div class='list-item-wrapper'><a  class='list-item' href='javascript:void(0);'>Sign Up</a></div>
		<span class="seperator">/</span><div class='list-item-wrapper'><a href='javascript:void(0);'>About Us</a></div>
		<span class="seperator">/</span><div class='list-item-wrapper'><a href='javascript:void(0);'>Worldwide Delivery</a></div>
		<span class="seperator">/</span>
		{% url satchmo_cart as carturl %}
	    {% if carturl %}<div class='list-item-wrapper'><a href="{{ carturl }}">{% trans "Cart" %}</a></div>{% endif %}
	    {% if not cart.is_empty %}
	        <div class='list-item-wrapper'>
            &nbsp;({{ cart_count|normalize_decimal }} - {% if sale %}{{ cart|discount_cart_total:sale|currency }}{% else %}{{cart.total|currency}}{% endif%})&nbsp;</div>
            {% url satchmo_checkout-step1 as checkouturl %}
            {% if checkouturl %}<div class='list-item-wrapper'><a href="{{ checkouturl }}">&nbsp;{% trans "Check out" %}</a>&nbsp;</div>{% endif %}
            
	    {% endif %}
	</div>
	<div class='clearfix'></div>
	<div style='text-align:center;margin-top:20px;'>
		<a href="/"><img src='{{MEDIA_URL}}img/weblogo.png'></a>
	</div>
	<div class='nav-bar'>
		<div style='float:left;'  class='list-item-container nav2 left-side'>			
    		<div class='list-item-wrapper hover-show-btn category-item-first-level'>
    			<a class='list-item white-font' href='javascript:void(0);'>Fashion</a>
    			<div id="fashion-hover-show-container" class='hover-show-container list-item-container nav3' style="display:none;">
                </div>
    		</div>
    		<div class='list-item-wrapper  category-item-first-level'><a class='list-item white-font'  href='javascript:void(0);'>Lifestyle</a></div>
    		<div class='list-item-wrapper  category-item-first-level'><a class='list-item white-font'  href='javascript:void(0);'>Art</a></div>
	    </div>
    	<div style='float:right;'  class='list-item-container nav2 right-side'>
    		<div class='list-item-wrapper'><a class='list-item white-font'  href='javascript:void(0);'>Designers</a></div>
    		<div class='list-item-wrapper'><a class='list-item white-font'  href='javascript:void(0);'>Artists</a></div>
    		<div class='list-item-wrapper'><a class='list-item white-font'  href='javascript:void(0);'>Ideas</a></div>
    	</div>
    </div>
    <div class='clearfix'></div>
</div>
<div class="hide" id="category-list-info">
    {% if category.id %}
        {% category_tree category.id %}
    {% else %}
        {% if product.get_category %}
            {% category_tree product.get_category.id %}
        {% else %}
            {% category_tree %}
        {% endif %}
    {% endif %}
</div>
<script type="text/javascript">
function getElementsByClass( searchClass, domNode, tagName) { 
	if (domNode == null) domNode = document;
	if (tagName == null) tagName = '*';
	var el = new Array();
	var tags = domNode.getElementsByTagName(tagName);
	var tcl = " "+searchClass+" ";
	for(i=0,j=0; i<tags.length; i++) { 
		var test = " " + tags[i].className + " ";
		if (test.indexOf(tcl) != -1) 
			el[j++] = tags[i];
	} 
	return el;
} 
var categoryListInfoNode = document.getElementById('category-list-info').childNodes[0];
var fashionHoverShowContainer = document.getElementById('fashion-hover-show-container');
var categoryNum = 3;
var categoryListLeftPart = getElementsByClass('category-item-first-level');
for(var i = 0; i < categoryNum; i++){
	categoryListLeftPart[i].childNodes[0].innerHTML = categoryListInfoNode.childNodes[i].childNodes[0].innerHTML;
	categoryListLeftPart[i].childNodes[0].href = categoryListInfoNode.childNodes[i].childNodes[0].href;
	if(categoryListInfoNode.childNodes[i].childNodes.length > 1){
		var subCategoryListItemTmplList = ["<div class='list-item-wrapper'><a class='list-item white-font'  href='","'>",'</a></div>'];
		var subCategoryListHtmlList = [];
		var subCategoryListInfoNode = categoryListInfoNode.childNodes[i].childNodes[1];
		for(var j = 0;j < subCategoryListInfoNode.childNodes.length; j++){
			var subCategoryListItemHtml = subCategoryListItemTmplList[0] + categoryListInfoNode.childNodes[i].childNodes[1].childNodes[j].childNodes[0].href 
			                                + subCategoryListItemTmplList[1] + categoryListInfoNode.childNodes[i].childNodes[1].childNodes[j].childNodes[0].innerHTML 
			                                +  subCategoryListItemTmplList[2];
			subCategoryListHtmlList.push(subCategoryListItemHtml);
		}
		fashionHoverShowContainer.innerHTML = subCategoryListHtmlList.join("<div class='list-item-wrapper white-font'>|</div>");
	}
}
</script>
{% endspaceless %}